(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ced0b0ac","chunk-69b9fce8","chunk-08272752","chunk-238bd40a","chunk-c1583cb8"],{"008e":function(e,t,a){"use strict";a("4114")},"0187":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return i}));var n=a("b775");function r(e){return Object(n["a"])({url:"/sys/role/page",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/sys/role",method:"delete",params:{ids:e}})}function l(e){return Object(n["a"])({url:"/sys/role",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/sys/role",method:"put",data:e})}},"0459":function(e,t,a){},"05ed":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"g",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"i",(function(){return f}));var n=a("b775");function r(e){return Object(n["a"])({url:"/sys/dict/type/page",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/sys/dict/type",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/sys/dict/type",method:"put",data:e})}function i(e){return Object(n["a"])({url:"/sys/dict/type",method:"delete",params:{ids:e}})}function s(e){return Object(n["a"])({url:"/sys/dict/data/page",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/sys/dict/data",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/sys/dict/data",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sys/dict/data",method:"delete",params:{ids:e}})}function f(e){return Object(n["a"])({url:"/sys/dict/type/data",method:"get",params:e})}},"094a":function(e,t,a){"use strict";a("a346")},"0be3":function(e,t,a){},"0e84":function(e,t,a){"use strict";a("8100")},"0fa3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0,model:e.search,size:"small"}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:""},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.tablePage}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.tableCreate({})}}},[e._v("新增")])],1)],1)],1),a("div",{staticClass:"table-container"},[a("el-table",{attrs:{"row-key":"id",size:"medium","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},border:"",data:e.table.data}},[a("el-table-column",{attrs:{label:"部门名称",align:"left","header-align":"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"显示排序",align:"center",prop:"weight","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"负责人",align:"center","header-align":"center",prop:"leader","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"联系电话",align:"center","header-align":"center",prop:"phone","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.tableEnabledChange(t.row)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"285"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-plus"},on:{click:function(a){return e.tableCreate(t.row)}}},[e._v("新增")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.tableEdit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"600px"},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.dict.deptOptions,normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},placeholder:"请选择上级部门"},model:{value:e.form.data.parentId,callback:function(t){e.$set(e.form.data,"parentId",t)},expression:"form.data.parentId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.data.name,callback:function(t){e.$set(e.form.data,"name",t)},expression:"form.data.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"weight"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.data.weight,callback:function(t){e.$set(e.form.data,"weight",t)},expression:"form.data.weight"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.data.leader,callback:function(t){e.$set(e.form.data,"leader",t)},expression:"form.data.leader"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.data.phone,callback:function(t){e.$set(e.form.data,"phone",t)},expression:"form.data.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.data.enabled,callback:function(t){e.$set(e.form.data,"enabled",t)},expression:"form.data.enabled"}},[a("el-radio",{attrs:{label:!0}},[e._v("启用")]),a("el-radio",{attrs:{label:!1}},[e._v("停用")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.data.email,callback:function(t){e.$set(e.form.data,"email",t)},expression:"form.data.email"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.formSubmit}},[e._v("确认")])],1)],1)],1)],1)},r=[],o=(a("b4fb"),a("053b"),a("e35a"),a("9cf3"),a("4c09")),l=a("7392"),i=a("7d66"),s=a.n(i),c=(a("5166"),{id:void 0,name:"",weight:1,leader:"",phone:"",email:"",enabled:!0}),d={name:"Role",components:{Treeselect:s.a},props:{},data:function(){return{search:{name:void 0},table:{data:[],current:1,size:10,total:0,loading:!1},form:{data:Object.assign({},c),rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],name:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],weight:[{required:!0,message:"排列顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]},dialog:!1},dict:{deptOptions:[]}}},mounted:function(){this.tablePage()},methods:{tableCreate:function(e){var t=this;this.form.dialog=!0,this.form.data=Object.assign({},c),this.form.data.parentId=void 0===e.id?-1:e.id,Object(l["c"])().then((function(e){t.dict.deptOptions=[{id:-1,name:"主类目",isDisabled:!1,children:Object(o["a"])(e.data)}]}))},tableDelete:function(e){var t=this;this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])([e.id]).then((function(e){t.tablePage()}))}))},tableEdit:function(e){var t=this;this.form.dialog=!0,this.form.data=Object.assign({},e),Object(l["c"])().then((function(e){t.dict.deptOptions=[{id:-1,name:"主类目",isDisabled:!0,children:Object(o["a"])(e.data)}]}))},tablePage:function(){var e=this;this.table.loading=!0,Object(l["c"])(this.search).then((function(t){e.table.loading=!1,e.table.data=t.data}))},formSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0===e.form.data.id?Object(l["a"])(e.form.data).then((function(t){e.form.dialog=!1,e.tablePage(),e.$refs["form"].resetFields()})):Object(l["d"])(e.form.data).then((function(t){e.form.dialog=!1,e.tablePage()})))}))},tableEnabledChange:function(e){var t=this,a=e.enabled?"启用":"停用";this.$confirm("确认要 ".concat(a," ").concat(e.name," 吗?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["d"])(Object.assign({},e))})).then((function(){t.$message({message:a+"成功",type:"success"})})).catch((function(){e.enabled=!e.enabled}))}}},u=d,f=a("c701"),m=Object(f["a"])(u,n,r,!1,null,"3660547d",null);t["default"]=m.exports},"1e66":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("div",{staticClass:"table-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-divider",[e._v("数据类型")]),a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0,model:e.search,size:"small"}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-input",{attrs:{placeholder:"请输入类型",clearable:""},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.tableGetPage}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.tableCreate}},[e._v("新增")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,border:"",data:e.table.data,"current-change":"tableData"},on:{"row-dblclick":e.tableData}},[a("el-table-column",{attrs:{label:"名称",align:"center","header-align":"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"类型",align:"center","header-align":"center",prop:"type"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.tableEnabledChange(t.row)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.tableEdit(t.row)}}}),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete([t.row.id])}}}),a("el-button",{attrs:{type:"text",icon:"el-icon-s-unfold"},on:{click:function(a){return e.tableData(t.row)}}})]}}])})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.table.current,"page-size":e.table.size,total:e.table.total,layout:"total, prev, pager, next"},on:{"update:currentPage":function(t){return e.$set(e.table,"current",t)},"update:current-page":function(t){return e.$set(e.table,"current",t)},"current-change":function(t){return e.tableGetPage()}}})],1)],1),a("el-col",{attrs:{span:14}},[a("el-divider",[e._v("数据字典")]),a("item",{attrs:{type:e.item.type}})],1)],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"500px"},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.form.data.name,callback:function(t){e.$set(e.form.data,"name",t)},expression:"form.data.name"}})],1),a("el-form-item",{attrs:{label:"标识符",prop:"type"}},[a("el-input",{model:{value:e.form.data.type,callback:function(t){e.$set(e.form.data,"type",t)},expression:"form.data.type"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"enabled"}},[a("el-radio-group",{model:{value:e.form.data.enabled,callback:function(t){e.$set(e.form.data,"enabled",t)},expression:"form.data.enabled"}},[a("el-radio",{attrs:{label:!0}},[e._v("启用")]),a("el-radio",{attrs:{label:!1}},[e._v("停用")])],1)],1),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{model:{value:e.form.data.remark,callback:function(t){e.$set(e.form.data,"remark",t)},expression:"form.data.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.tableSubmit}},[e._v("确认")])],1)],1)],1)],1)},r=[],o=(a("b4fb"),a("053b"),a("05ed")),l=a("9e84"),i={id:void 0,name:void 0,type:void 0,status:0,createBy:"admin",createTime:"2018-03-16T11:33:00",updateBy:"ry",updateTime:"2018-03-16T11:33:00",remark:void 0},s={name:"Dict",components:{item:l["default"]},props:{},data:function(){return{search:{name:void 0},table:{data:[],current:1,size:10,total:0,loading:!1},form:{data:Object.assign({},i),rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],type:[{required:!0,message:"标识符不能为空",trigger:"blur"}]},dialog:!1},item:{type:-1}}},mounted:function(){this.tableGetPage()},methods:{tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.item.type===t.id?"success-row":""},tableCreate:function(){this.form.dialog=!0,this.form.data=Object.assign({},i)},tableDelete:function(e){var t=this;this.tableData({id:e[0]}),this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["g"])(e).then((function(e){t.tableGetPage()}))}))},tableData:function(e){this.item.type=e.id},tableEdit:function(e){this.tableData(e),this.form.dialog=!0,this.form.data=Object.assign({},e)},tableGetPage:function(){var e=this;this.table.loading=!0;var t={current:this.table.current,size:this.table.size};Object(o["b"])(t).then((function(t){e.table.loading=!1,e.table.data=t.data.records,e.table.total=t.data.total,e.item.type=e.table.data[0].id}))},tableSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0===e.form.data.id?Object(o["f"])(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage(),e.$refs["form"].resetFields()})):Object(o["h"])(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage()})))}))},tableEnabledChange:function(e){var t=this;this.tableData(e);var a=e.enabled?"启用":"停用";this.$confirm("确认要 ".concat(a," ").concat(e.name," 吗?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(Object.assign({},e))})).then((function(){t.$message({message:a+"成功",type:"success"})})).catch((function(){e.enabled=!e.enabled}))}}},c=s,d=(a("5254"),a("c701")),u=Object(d["a"])(c,n,r,!1,null,"ae23fc5e",null);t["default"]=u.exports},2011:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:14}},[a("el-divider",[e._v("菜单列表")]),a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0,model:e.search,size:"mini"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:""},model:{value:e.search.title,callback:function(t){e.$set(e.search,"title",t)},expression:"search.title"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:"菜单状态",clearable:""},model:{value:e.search.hidden,callback:function(t){e.$set(e.search,"hidden",t)},expression:"search.hidden"}},[a("el-option",{attrs:{label:"可见",value:!1}}),a("el-option",{attrs:{label:"隐藏",value:!0}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.tablePage}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.tableCreate({})}}})],1)],1)],1),a("div",{staticClass:"table-container"},[a("el-table",{attrs:{size:"mini","row-key":"id","row-class-name":e.tableRowClassName,"tree-props":{children:"children",hasChildren:"hasChildren"},border:"",data:e.table.data},on:{"row-dblclick":e.tableData}},[a("el-table-column",{attrs:{label:"名称",align:"left","header-align":"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.icon?a("svg-icon",{staticStyle:{width:"16px","margin-right":"5px"},attrs:{"icon-class":t.row.icon}}):e._e(),a("span",[e._v(e._s(t.row.title))]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text",size:"mini",icon:"el-icon-top",disabled:!t.row.sortPrev},on:{click:function(a){return e.tableSort(t.row,-1)}}}),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-bottom",disabled:!t.row.sortNext},on:{click:function(a){return e.tableSort(t.row,1)}}})]}}])}),a("el-table-column",{attrs:{label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?a("el-tag",[e._v("菜单")]):1===t.row.type?a("el-tag",{attrs:{type:"warning"}},[e._v("按钮")]):a("el-tag",[e._v("--")])]}}])}),a("el-table-column",{attrs:{label:"权限标识",align:"left","header-align":"center",prop:"authority","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"路径",align:"left","header-align":"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?a("span",[e._v(e._s(t.row.absPath))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.tableEdit(t.row)}}}),a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.tableCreate(t.row)}}}),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete(t.row)}}}),a("el-button",{attrs:{type:"text",icon:"el-icon-s-unfold"},on:{click:function(a){return e.tableData(t.row)}}})]}}])})],1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-divider",[e._v("权限列表")]),a("authority",{attrs:{"menu-id":e.authority.menuId}})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"600px"},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"强制删除",prop:"authority"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.tableDeleteForce(e.form.data.id)}}},[e._v("删除与之相关的权限数据,子集,角色绑定,权限绑定")])],1),a("el-form-item",{attrs:{label:"权限标识",prop:"authority"}},[a("el-input",{model:{value:e.form.data.authority,callback:function(t){e.$set(e.form.data,"authority",t)},expression:"form.data.authority"}})],1),a("el-form-item",{attrs:{label:"上级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.form.authorityTree,normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.title,children:e.children}},"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.data.parentId,callback:function(t){e.$set(e.form.data,"parentId",t)},expression:"form.data.parentId"}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单标题"}},[a("el-input",{model:{value:e.form.data.title,callback:function(t){e.$set(e.form.data,"title",t)},expression:"form.data.title"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"role"}},[a("el-radio-group",{model:{value:e.form.data.type,callback:function(t){e.$set(e.form.data,"type",t)},expression:"form.data.type"}},[a("el-radio",{attrs:{label:0}},[e._v("菜单")]),a("el-radio",{attrs:{label:1}},[e._v("功能")])],1)],1)],1)],1),a("el-form-item",{attrs:{label:"菜单图标",prop:"role"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:function(t){e.form.data.icon=t}}}),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.data.icon,callback:function(t){e.$set(e.form.data,"icon",t)},expression:"form.data.icon"}},[e.form.data.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"40px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.data.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[0===e.form.data.type?a("el-form-item",{attrs:{label:"路由名称"}},[a("el-input",{model:{value:e.form.data.name,callback:function(t){e.$set(e.form.data,"name",t)},expression:"form.data.name"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[0===e.form.data.type?a("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[a("el-input",{model:{value:e.form.data.component,callback:function(t){e.$set(e.form.data,"component",t)},expression:"form.data.component"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否隐藏"}},[a("el-radio-group",{model:{value:e.form.data.hidden,callback:function(t){e.$set(e.form.data,"hidden",t)},expression:"form.data.hidden"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),a("el-col",{attrs:{span:12}},[0===e.form.data.type?a("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[a("el-input",{model:{value:e.form.data.path,callback:function(t){e.$set(e.form.data,"path",t)},expression:"form.data.path"}})],1):e._e()],1)],1),0===e.form.data.type?a("el-form-item",{attrs:{label:"跳转地址",prop:"redirect"}},[a("el-input",{model:{value:e.form.data.redirect,callback:function(t){e.$set(e.form.data,"redirect",t)},expression:"form.data.redirect"}})],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.formSubmit}},[e._v("确认")])],1)],1)],1)],1)},r=[],o=(a("e35a"),a("9cf3"),a("4c09")),l=a("5b64"),i=a("7d66"),s=a.n(i),c=(a("5166"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,n){return a("div",{key:n,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),a("span",[e._v(e._s(t))])],1)})),0)],1)}),d=[],u=(a("dbb3"),a("b130"),a("053b"),a("90aa"),a("2eeb"),a("e18c"),a("f4e3"),a("af86"),a("51ff")),f=function(e){return e.keys()},m=/\.\/(.*)\.svg/,p=f(u).map((function(e){return e.match(m)[1]})),b=p,h={name:"IconSelect",data:function(){return{name:"",iconList:b}},methods:{filterIcons:function(){var e=this;this.name?this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})):this.iconList=b},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=b}}},g=h,v=(a("2c7d"),a("c701")),y=Object(v["a"])(g,c,d,!1,null,"4f94f88f",null),w=y.exports,x=a("456c"),k={id:void 0,parentId:-1,weight:1,name:void 0,path:void 0,type:0,component:"",hidden:!1,alwaysShow:!1,redirect:null,title:void 0,icon:void 0,authority:null,breadcrumb:!1},_={name:"Role",components:{Treeselect:s.a,IconSelect:w,Authority:x["default"]},props:{},data:function(){return{search:{title:void 0,hidden:void 0},table:{data:[],current:1,size:10,total:0,loading:!1,selection:[]},form:{data:Object.assign({},k),rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],path:[{required:!0,message:"路由路径不能为空",trigger:"blur"}],title:[{required:!0,message:"菜单标题不能为空",trigger:"blur"}],weight:[{required:!0,message:"排列顺序不能为空",trigger:"blur"}]},dialog:!1,authorityTree:[]},authority:{menuId:-1}}},mounted:function(){this.tablePage()},methods:{tableRowClassName:function(e){var t=e.row;e.rowIndex;return this.authority.menuId===t.id?"success-row":""},tableSort:function(e,t){var a=this;this.tableData(e),Object(l["d"])({menuId:e.id,index:e.weight+t}).then((function(e){a.tablePage()}))},tableCreate:function(e){var t=this;this.form.dialog=!0,this.form.data=Object.assign({},k),Object(l["e"])().then((function(a){t.form.authorityTree=[{id:-1,title:"主类目",children:Object(o["a"])(a.data)}],t.form.data.parentId=void 0===e.id?-1:e.id,t.tableData(e)}))},tableDelete:function(e){var t=this;this.tableData(e),this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])([e.id]).then((function(e){t.tablePage()}))}))},tableDeleteForce:function(e){var t=this;this.$confirm("此操作将删除选中数据,这将删除他他相关的所有绑定以及子集,是非常威胁的操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["c"])(e).then((function(e){t.tablePage()}))}))},tableData:function(e){this.authority.menuId=e.id},tableEdit:function(e){var t=this;this.tableData(e),this.form.dialog=!0,this.form.data=Object.assign({},e),Object(l["e"])().then((function(e){t.form.authorityTree=[{id:-1,title:"主类目",children:Object(o["a"])(e.data)}]}))},tablePage:function(){var e=this;this.table.loading=!0,Object(l["e"])(this.search).then((function(t){e.table.loading=!1,e.table.data=t.data,-1===e.authority.menuId&&(e.authority.menuId=e.table.data[0].id)}))},formSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0===e.form.data.id?Object(l["a"])(e.form.data).then((function(t){e.form.dialog=!1,e.tablePage(),e.$refs["form"].resetFields()})):Object(l["f"])(e.form.data).then((function(t){e.form.dialog=!1,e.tablePage()})))}))}}},$=_,O=Object(v["a"])($,n,r,!1,null,null,null);t["default"]=O.exports},2017:function(e,t,a){"use strict";a("ed55")},"21f0":function(e,t,a){"use strict";a("cf0a")},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},"2c7d":function(e,t,a){"use strict";a("cf67")},"2dde":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),a("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[a("el-input",{model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],o=a("7ded"),l={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(o["i"])(e.user).then((function(t){e.$message("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/"})}}},i=l,s=a("c701"),c=Object(s["a"])(i,n,r,!1,null,null,null);t["default"]=c.exports},3823:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],o=a("7ded"),l={data:function(){var e=this,t=function(t,a,n){e.user.newPassword!==a?n(new Error("两次输入的密码不一致")):n()};return{user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a={oldPass:e.user.oldPassword,newPass:e.user.newPassword};Object(o["j"])(a).then((function(t){200===t.code?e.msgSuccess("修改成功"):e.msgError(t.msg)}))}}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},i=l,s=a("c701"),c=Object(s["a"])(i,n,r,!1,null,null,null);t["default"]=c.exports},"3e10":function(e,t,a){"use strict";function n(e,t,a,n){var r=void 0!==window.screenLeft?window.screenLeft:screen.left,o=void 0!==window.screenTop?window.screenTop:screen.top,l=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=l/2-a/2+r,c=i/2-n/2+o,d=window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width="+a+", height="+n+", top="+c+", left="+s);window.focus&&d.focus()}a.d(t,"a",(function(){return n}))},"3e20":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("div",{staticClass:"filter-container"},[a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.tableCreate}},[e._v("新增")])],1),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{border:"",data:e.table.data}},[a("el-table-column",{attrs:{label:"名称",align:"center","header-align":"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"角色",align:"center","header-align":"center",prop:"role","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.tableEnabledChange(t.row)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),a("el-table-column",{attrs:{label:"排序",align:"center","header-align":"center",prop:"sort","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"285"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.tableEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.table.current,"page-size":e.table.size,total:e.table.total,layout:"total, prev, pager, next"},on:{"update:currentPage":function(t){return e.$set(e.table,"current",t)},"update:current-page":function(t){return e.$set(e.table,"current",t)},"current-change":function(t){return e.tableGetPage()}}})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"500px"},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.form.data.name,callback:function(t){e.$set(e.form.data,"name",t)},expression:"form.data.name"}})],1),a("el-form-item",{attrs:{label:"标识符",prop:"role"}},[a("el-input",{model:{value:e.form.data.post,callback:function(t){e.$set(e.form.data,"post",t)},expression:"form.data.post"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"desc"}},[a("el-input",{model:{value:e.form.data.sort,callback:function(t){e.$set(e.form.data,"sort",t)},expression:"form.data.sort"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.tableSubmit}},[e._v("确认")])],1)],1)],1)],1)},r=[],o=(a("b4fb"),a("b775"));function l(e){return Object(o["a"])({url:"/sys/post/page",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/sys/post",method:"delete",params:{ids:e}})}function s(e){return Object(o["a"])({url:"/sys/post",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/sys/post",method:"put",data:e})}var d={id:0,name:"",post:"",sort:"",enabled:!0,description:""},u={name:"Post",props:{},data:function(){return{table:{data:[],current:1,size:10,total:0,loading:!1},form:{data:Object.assign({},d),rules:{},dialog:!1},authority:{checkAll:!1,data:[]},dept:{checkAll:!1,data:[]},dict:{scopeType:[]}}},mounted:function(){this.tableGetPage()},methods:{tableCreate:function(){this.form.dialog=!0,this.form.data=Object.assign({},d)},tableDelete:function(e){var t=this;this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i({id:e.id}).then((function(e){t.tableGetPage()}))}))},tableEdit:function(e){this.form.dialog=!0,this.form.data=Object.assign({},e),this.authority.checkAll=!1,this.dept.checkAll=!1},tableGetPage:function(){var e=this;this.table.loading=!0;var t={current:this.table.current,size:this.table.size};l(t).then((function(t){e.table.loading=!1,e.table.data=t.data.records,e.table.total=t.data.total}))},tableSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0===e.form.data.id?s(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage(),e.$refs["form"].resetFields()})):c(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage()})))}))},tableEnabledChange:function(e){var t=this,a=e.enabled?"启用":"停用";this.$confirm("确认要 ".concat(a," ").concat(e.username," 用户吗?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s(e.id,e.enabled)})).then((function(){t.$message({message:a+"成功",type:"success"})})).catch((function(){e.enabled=!e.enabled}))}}},f=u,m=(a("008e"),a("c701")),p=Object(m["a"])(f,n,r,!1,null,"279cd8a6",null);t["default"]=p.exports},4114:function(e,t,a){},"456c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"form",attrs:{inline:!0,model:e.form,size:"mini"}},[a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.form.isAdd,expression:"!form.isAdd"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.AuthorityAdd}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.form.isAdd,expression:"!form.isAdd"}],attrs:{type:"danger",icon:"el-icon-delete",disabled:0===e.table.selection.length},on:{click:function(t){return e.tableDelete(e.table.selection)}}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.form.isAdd,expression:"!form.isAdd"}],attrs:{icon:"el-icon-refresh"},on:{click:e.tablePage}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:e.form.isAdd,expression:"form.isAdd"}],ref:"selectAuthority",staticStyle:{margin:"0 10px"},attrs:{placeholder:"请选择",clearable:"",multiple:"","collapse-tags":""},model:{value:e.form.authority.value,callback:function(t){e.$set(e.form.authority,"value",t)},expression:"form.authority.value"}},e._l(e.form.authority.list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.authority)+" ["+e._s(t.method)+" "+e._s(t.path)+" ]")])])})),1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.form.isAdd,expression:"form.isAdd"}],attrs:{type:"success",icon:"el-icon-check"},on:{click:e.submit}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.form.isAdd,expression:"form.isAdd"}],attrs:{icon:"el-icon-close"},on:{click:e.cancel}})],1)],1)],1),a("div",{staticClass:"table-container"},[a("el-table",{attrs:{"row-key":"id",border:"",data:e.table.data,size:"mini"},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"名称",align:"center","header-align":"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"请求地址",align:"center","header-align":"center",prop:"path","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"请求类型",align:"center","header-align":"center",prop:"method","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"权限标识",align:"center","header-align":"center",prop:"authority","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete([t.row.id])}}})]}}])})],1)],1)])},r=[],o=(a("dbb3"),a("fe59"),a("d497"),a("513c"),a("08ba"),a("b775")),l=function(e){return Object(o["a"])({url:"/sys/menu/authority/page",method:"get",params:e})},i=function(e,t){return Object(o["a"])({url:"/sys/menu/authority?menuId=".concat(e),method:"post",data:t})},s=function(e,t){return Object(o["a"])({url:"/sys/menu/authority?menuId=".concat(e),method:"delete",data:t})},c=function(e){return Object(o["a"])({url:"/sys/authority/page",method:"get",params:e})},d={name:"Role",props:{menuId:{default:-1,type:Number}},data:function(){return{form:{isAdd:!1,authority:{list:[],value:[]}},table:{data:[],selection:[]}}},watch:{menuId:function(e){this.tablePage()}},mounted:function(){this.tablePage()},methods:{AuthorityAdd:function(){var e=this;this.form.authority.value=[],this.form.isAdd=!0,c({size:-1}).then((function(t){e.form.authority.list=t.data.records.filter((function(t){return!e.table.data.some((function(e){return e.authority===t.authority}))}))}))},tableDelete:function(e){var t=this;console.log(e),this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s(t.menuId,e).then((function(e){t.tablePage()}))}))},tablePage:function(){var e=this,t={size:-1,menuId:this.menuId};l(t).then((function(t){e.table.data=t.data.records,e.table.total=t.data.total}))},tableSelectionChange:function(e){var t=this;this.table.selection=[],e.forEach((function(e){t.table.selection.push(e.id)}))},submit:function(){var e=this;i(this.menuId,this.form.authority.value).then((function(t){e.form.isAdd=!1,e.form.authority.value=[],e.tablePage()}))},cancel:function(){this.form.isAdd=!1,this.tablePage()}}},u=d,f=(a("0e84"),a("c701")),m=Object(f["a"])(u,n,r,!1,null,"64c2eb3c",null);t["default"]=m.exports},"461e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"数据源"}},[a("el-select",{attrs:{placeholder:"请选择库"},model:{value:e.currentDb,callback:function(t){e.currentDb=t},expression:"currentDb"}},e._l(e.dbList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"数据表"}},[a("el-select",{attrs:{placeholder:"请选择表"},model:{value:e.currentTable,callback:function(t){e.currentTable=t},expression:"currentTable"}},e._l(e.tableList,(function(e){return a("el-option",{key:e.tableName,attrs:{label:e.tableName,value:e.tableName}})})),1)],1),a("el-form-item",{attrs:{label:"模板源"}},[a("el-select",{attrs:{placeholder:"请选择表"},on:{change:e.currentVmChange},model:{value:e.currentVm,callback:function(t){e.currentVm=t},expression:"currentVm"}},e._l(e.vm,(function(e,t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"表别名(user -> sys_user)"}},[a("el-input",{attrs:{placeholder:"自定义前缀,可空"},model:{value:e.tableAlias,callback:function(t){e.tableAlias=t},expression:"tableAlias"}})],1)],1)],1),a("div",{staticClass:"editor-container",attrs:{loading:e.loading}},[a("markdown-editor",{attrs:{height:"700px",options:{hideModeSwitch:!0,previewStyle:"tab"}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)])},r=[],o=(a("fe8a"),a("e35a"),a("0d7a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.id}})}),l=[],i=(a("20a5"),a("d211")),s=(a("5f12"),a("6d1a"),a("e41c")),c=a.n(s),d={minHeight:"200px",previewStyle:"vertical",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!1,hideModeSwitch:!1,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]},u={name:"MarkdownEditor",props:{value:{type:String,default:""},id:{type:String,required:!1,default:function(){return"markdown-editor-"+ +new Date+(1e3*Math.random()).toFixed(0)}},options:{type:Object,default:function(){return d}},mode:{type:String,default:"markdown"},height:{type:String,required:!1,default:"300px"},language:{type:String,required:!1,default:"en_US"}},data:function(){return{editor:null}},computed:{editorOptions:function(){var e=Object.assign({},d,this.options);return e.initialEditType=this.mode,e.height=this.height,e.language=this.language,e}},watch:{value:function(e,t){e!==t&&e!==this.editor.getMarkdown()&&this.editor.setMarkdown(e)},language:function(e){this.destroyEditor(),this.initEditor()},height:function(e){this.editor.height(e)},mode:function(e){this.editor.changeMode(e)}},mounted:function(){this.initEditor()},destroyed:function(){this.destroyEditor()},methods:{initEditor:function(){var e=this;this.editor=new c.a(Object(i["a"])({el:document.getElementById(this.id)},this.editorOptions)),this.value&&this.editor.setMarkdown(this.value),this.editor.on("change",(function(){e.$emit("input",e.editor.getMarkdown())}))},destroyEditor:function(){this.editor&&(this.editor.off("change"),this.editor.remove())},setValue:function(e){this.editor.setMarkdown(e)},getValue:function(){return this.editor.getMarkdown()},setHtml:function(e){this.editor.setHtml(e)},getHtml:function(){return this.editor.getHtml()}}},f=u,m=a("c701"),p=Object(m["a"])(f,o,l,!1,null,null,null),b=p.exports,h=a("b775");function g(e,t,a){return Object(h["a"])({url:"/sys/code/gen",method:"get",params:{name:t,ds:e,alias:a}})}function v(e){return Object(h["a"])({url:"/sys/code/table",method:"get",params:e})}function y(){return Object(h["a"])({url:"/sys/code/db",method:"get"})}var w={name:"MarkdownDemo",components:{MarkdownEditor:b},data:function(){return{content:"",currentDb:void 0,dbList:[],currentTable:"",tableList:[],vm:{},currentVm:"",search:{},tableAlias:void 0,loading:!1}},watch:{currentTable:function(e){this.genCode()},currentDb:function(e){var t=this;v({ds:e}).then((function(e){t.tableList=e.data,t.currentTable=t.tableList[0].tableName}))},tableAlias:function(e){e.split("_").length>1&&e.split("_")[1]&&this.genCode()}},mounted:function(){var e=this;y().then((function(t){e.dbList=t.data,e.currentDb=e.dbList[0]}))},methods:{currentVmChange:function(e){this.content=this.vm[e]},genCode:function(){var e=this;console.log(this.currentDb,this.currentTable,this.tableAlias),this.loading=!0,g(this.currentDb,this.currentTable,this.tableAlias).then((function(t){e.vm=t.data,e.currentVm||(e.currentVm=Object.keys(e.vm)[0]),e.content=e.vm[e.currentVm],e.loading=!1}))}}},x=w,k=(a("7f50"),Object(m["a"])(x,n,r,!1,null,"e6723d1c",null));t["default"]=k.exports},"485f":function(e,t,a){},"4b3b":function(e,t,a){var n={"./404":"8cdb","./404.vue":"8cdb","./dashboard":"9406","./dashboard/":"9406","./dashboard/index":"9406","./dashboard/index.vue":"9406","./iframe":"8f6a","./iframe/":"8f6a","./iframe/index":"8f6a","./iframe/index.vue":"8f6a","./login":"9ed6","./login/":"9ed6","./login/index":"9ed6","./login/index.vue":"9ed6","./profile":"ecac","./profile/":"ecac","./profile/index":"ecac","./profile/index.vue":"ecac","./profile/resetPwd":"3823","./profile/resetPwd.vue":"3823","./profile/userAvatar":"88c9","./profile/userAvatar.vue":"88c9","./profile/userInfo":"2dde","./profile/userInfo.vue":"2dde","./sys/code":"461e","./sys/code/":"461e","./sys/code/index":"461e","./sys/code/index.vue":"461e","./sys/dept":"0fa3","./sys/dept/":"0fa3","./sys/dept/index":"0fa3","./sys/dept/index.vue":"0fa3","./sys/dict":"1e66","./sys/dict/":"1e66","./sys/dict/index":"1e66","./sys/dict/index.vue":"1e66","./sys/dict/item":"9e84","./sys/dict/item.vue":"9e84","./sys/log":"e476","./sys/log/":"e476","./sys/log/index":"e476","./sys/log/index.vue":"e476","./sys/menu":"2011","./sys/menu/":"2011","./sys/menu/authority":"456c","./sys/menu/authority.vue":"456c","./sys/menu/index":"2011","./sys/menu/index.vue":"2011","./sys/post":"3e20","./sys/post/":"3e20","./sys/post/index":"3e20","./sys/post/index.vue":"3e20","./sys/role":"cdfb","./sys/role/":"cdfb","./sys/role/index":"cdfb","./sys/role/index.vue":"cdfb","./sys/user":"c2a2","./sys/user/":"c2a2","./sys/user/index":"c2a2","./sys/user/index.vue":"c2a2"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="4b3b"},5254:function(e,t,a){"use strict";a("0be3")},5504:function(e,t,a){"use strict";a("f605")},"55cc":function(e,t,a){"use strict";a("7102")},"5b64":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return c}));var n=a("b775"),r=function(e){return Object(n["a"])({url:"/sys/menu/tree",method:"get",params:e})},o=function(e){return Object(n["a"])({url:"/sys/menu",method:"post",data:e})},l=function(e){return Object(n["a"])({url:"/sys/menu",method:"delete",params:{ids:e}})},i=function(e){return Object(n["a"])({url:"/sys/menu/force",method:"delete",params:{id:e}})};function s(e){return Object(n["a"])({url:"/sys/menu",method:"put",data:e})}function c(e){return Object(n["a"])({url:"/sys/menu/sort",method:"put",params:e})}},"60e6":function(e,t,a){"use strict";a("fa12")},"621d":function(e,t,a){"use strict";a("e6dd")},7102:function(e,t,a){},7392:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return i}));var n=a("b775");function r(e){return Object(n["a"])({url:"/sys/dept/page",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/sys/dept",method:"delete",params:{ids:e}})}function l(e){return Object(n["a"])({url:"/sys/dept",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/sys/dept",method:"put",data:e})}},"7f50":function(e,t,a){"use strict";a("0459")},8100:function(e,t,a){},"88c9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px"},on:{"update:visible":function(t){e.open=t}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,"auto-crop":e.options.autoCrop,"auto-crop-width":e.options.autoCropWidth,"auto-crop-height":e.options.autoCropHeight,"fixed-box":e.options.fixedBox},on:{realTime:e.realTime}})],1),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),a("br"),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v(" 上传 "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},r=[],o=(a("ecb4"),a("4360")),l=a("9743"),i=a("7ded"),s={components:{VueCropper:l["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",options:{img:o["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1===e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("upload[]",t),Object(i["k"])(a).then((function(t){200===t.code?(e.open=!1,e.options.img="/"+t.data,e.msgSuccess("修改成功")):e.msgError(t.msg),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=s,d=(a("55cc"),a("c701")),u=Object(d["a"])(c,n,r,!1,null,"054442e8",null);t["default"]=u.exports},"8a3f":function(e,t,a){"use strict";a("e2eb")},"8cdb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._m(1),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pic-404"},[n("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),n("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),n("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),n("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],o={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},l=o,i=(a("97ef"),a("c701")),s=Object(i["a"])(l,n,r,!1,null,"c095f994",null);t["default"]=s.exports},"8eba":function(e,t,a){"use strict";a("aca4")},"8f6a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"iframe-container"},[a("iframe",{staticClass:"frame",attrs:{src:e.key,scrolling:"auto",frameborder:"0"}})])},r=[],o=(a("053b"),{name:"Iframe",computed:{key:function(){return this.$route.name}}}),l=o,i=(a("621d"),a("c701")),s=Object(i["a"])(l,n,r,!1,null,null,null);t["default"]=s.exports},9406:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"dashboard-text"},[e._v("账号: "+e._s(e.name))]),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.bindButton(840)}}},[e._v(" 绑定第三方账号 ")])],1)},r=[],o=a("d211"),l=a("52c1"),i=a("3e10"),s={name:"Dashboard",data:function(){return{socials:[],msg:""}},computed:Object(o["a"])({},Object(l["b"])(["name"])),mounted:function(){},methods:{bindButton:function(e){var t=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/",BASE_URL:"/admin/"}).VUE_APP_AUTH_API;Object(i["a"])(t,"TAO-X统一认证中心",e,540),this.loading=!1}}},c=s,d=(a("094a"),a("c701")),u=Object(d["a"])(c,n,r,!1,null,"2ed4def8",null);t["default"]=u.exports},"97ef":function(e,t,a){"use strict";a("e250")},"9e84":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.tableCreate}},[e._v("新增")])],1)],1)],1),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{border:"",data:e.table.data}},[a("el-table-column",{attrs:{label:"Value",align:"center","header-align":"center",prop:"value"}}),a("el-table-column",{attrs:{label:"Label",align:"center","header-align":"center",prop:"label"}}),a("el-table-column",{attrs:{label:"排序",align:"center","header-align":"center",prop:"sort","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"是否默认",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isDefault?a("el-tag",[e._v("是")]):a("el-tag",{attrs:{type:"warning"}},[e._v("否")])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.tableEnabledChange(t.row)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.tableEdit(t.row)}}}),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete([t.row.id])}}})]}}])})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.table.current,"page-size":e.table.size,total:e.table.total,layout:"total, prev, pager, next"},on:{"update:currentPage":function(t){return e.$set(e.table,"current",t)},"update:current-page":function(t){return e.$set(e.table,"current",t)},"current-change":function(t){return e.tableGetPage()}}})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"500px"},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"Value",prop:"value"}},[a("el-input",{model:{value:e.form.data.value,callback:function(t){e.$set(e.form.data,"value",t)},expression:"form.data.value"}})],1),a("el-form-item",{attrs:{label:"Label",prop:"label"}},[a("el-input",{model:{value:e.form.data.label,callback:function(t){e.$set(e.form.data,"label",t)},expression:"form.data.label"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input-number",{model:{value:e.form.data.sort,callback:function(t){e.$set(e.form.data,"sort",t)},expression:"form.data.sort"}})],1),a("el-form-item",{attrs:{label:"是否默认",prop:"isDefault"}},[a("el-radio-group",{model:{value:e.form.data.isDefault,callback:function(t){e.$set(e.form.data,"isDefault",t)},expression:"form.data.isDefault"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"状态",prop:"enabled"}},[a("el-radio-group",{model:{value:e.form.data.enabled,callback:function(t){e.$set(e.form.data,"enabled",t)},expression:"form.data.enabled"}},[a("el-radio",{attrs:{label:!0}},[e._v("启用")]),a("el-radio",{attrs:{label:!1}},[e._v("停用")])],1)],1),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{model:{value:e.form.data.remark,callback:function(t){e.$set(e.form.data,"remark",t)},expression:"form.data.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.tableSubmit}},[e._v("确认")])],1)],1)],1)},r=[],o=(a("b4fb"),a("513c"),a("05ed")),l={id:void 0,value:void 0,label:void 0,sort:void 0,isDefault:!1,status:0,remark:void 0},i={name:"DictItem",props:{type:{default:-1,type:Number}},data:function(){return{table:{data:[],current:1,size:10,total:0,loading:!1},form:{data:Object.assign({},l),rules:{value:[{required:!0,message:"不能为空",trigger:"blur"}],label:[{required:!0,message:"不能为空",trigger:"blur"}],sort:[{required:!0,message:"不能为空",trigger:"blur"}]},dialog:!1}}},watch:{type:function(e){this.tableGetPage()}},mounted:function(){this.tableGetPage()},methods:{tableCreate:function(){this.form.dialog=!0,this.form.data=Object.assign({},l)},tableDelete:function(e){var t=this;this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["d"])(e).then((function(e){t.tableGetPage()}))}))},tableEdit:function(e){this.form.dialog=!0,this.form.data=Object.assign({},e),console.log(this.form.data)},tableGetPage:function(){var e=this;this.table.loading=!0;var t={current:this.table.current,size:this.table.size,type:this.type};Object(o["a"])(t).then((function(t){e.table.loading=!1,e.table.data=t.data.records,e.table.total=t.data.total}))},tableSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0===e.form.data.id?(e.form.data.typeId=e.type,Object(o["c"])(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage(),e.$refs["form"].resetFields()}))):Object(o["e"])(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage()})))}))},tableEnabledChange:function(e){var t=this,a=e.enabled?"启用":"停用";this.$confirm("确认要 ".concat(a," ").concat(e.label," ?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(Object.assign({},e))})).then((function(){t.$message({message:a+"成功",type:"success"})})).catch((function(){e.enabled=!e.enabled}))}}},s=i,c=(a("21f0"),a("c701")),d=Object(c["a"])(s,n,r,!1,null,"6be9b0a9",null);t["default"]=d.exports},"9ed6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title tenant"},[e._v(e._s(e.title)+" ")]),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"tenant",attrs:{placeholder:"请选择租户"},model:{value:e.loginForm.tenant,callback:function(t){e.$set(e.loginForm,"tenant",t)},expression:"loginForm.tenant"}},e._l(e.tenant.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"tips",staticStyle:{"margin-bottom":"20px"},on:{click:function(t){e.loginForm.loginSwitch=!e.loginForm.loginSwitch}}},[a("a",{class:{"is-unactive":!e.loginForm.loginSwitch}},[e._v("用户名登录")]),e._v(" | "),a("a",{class:{"is-unactive":e.loginForm.loginSwitch}},[e._v("手机号登录")])]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.loginForm.loginSwitch,expression:"loginForm.loginSwitch"}],attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),a("el-input",{ref:"username",attrs:{placeholder:"账号",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.loginForm.loginSwitch,expression:"loginForm.loginSwitch"}],attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.loginForm.loginSwitch,expression:"!loginForm.loginSwitch"}],attrs:{prop:"phone"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),a("el-input",{ref:"phone",staticStyle:{width:"69%"},attrs:{placeholder:"手机号",name:"phone",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}}),a("el-button",{attrs:{disabled:!e.smsEnable,type:"info",size:"small"},on:{click:e.sendSms}},[e._v(e._s(e.smsSeconds))])],1),a("el-form-item",{attrs:{prop:"code"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{attrs:{placeholder:"验证码",name:"password","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.loginForm.loginSwitch,expression:"loginForm.loginSwitch"}],staticClass:"show-code",on:{click:e.refreshCode}},[a("el-image",{staticStyle:{width:"90px",height:"85%","margin-top":"5px"},attrs:{src:e.codeUrl}})],1)],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" 登 录 ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"tips"},[a("el-divider",[e._v("第三方登录")]),a("ul",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"wrap"}},e._l(e.socials,(function(t,n){return a("li",{key:n,staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-bottom":"10px"}},[t.icon?a("img",{staticStyle:{height:"15px","margin-right":"5px"},attrs:{src:t.icon}}):e._e(),a("span",{staticStyle:{"line-height":"20px"},on:{click:function(a){return e.oauth2Button(t.type,t.authorizeUri,540)}}},[e._v(e._s(t.title))]),a("el-divider",{attrs:{direction:"vertical"}})],1)})),0)],1)],1)],1)},r=[],o=(a("e18c"),a("1c2e"),a("7ded")),l=a("3e10"),i=a("83d6"),s={name:"Login",data:function(){return{loginForm:{username:"admin",password:"123456",imageKey:Math.random().toString(36).substr(2),code:"",phone:"",tenant:1,loginSwitch:!0,loginType:"password",type:"",socialCode:""},loginRules:{},title:i["title"],codeUrl:"",loading:!1,passwordType:"password",redirect:void 0,smsSeconds:"获取验证码",smsEnable:!0,tenant:{options:[{value:1,label:"租户1 - 不支持修改数据,仅提供预览"},{value:2,label:"租户2 - 定时重置数据库,可修改数据"}]},socials:[]}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},destroyed:function(){window.removeEventListener("storage",this.afterQRScan)},created:function(){this.refreshCode(),window.addEventListener("storage",this.afterQRScan)},methods:{getSocialsData:function(){var e=this;this.loginForm.socialRedirect=window.location.origin+window.location.pathname+"auth-redirect.html",Object(o["e"])({redirect_uri:this.loginForm.socialRedirect,tenant_id:this.loginForm.tenant}).then((function(t){e.socials=t.data}))},sendSms:function(){var e=this;Object(o["d"])({phone:this.loginForm.phone}).then((function(t){if(0===t.code){var a=60;e.smsEnable=!1;var n=setInterval((function(){e.smsSeconds=a--+" 秒可重发",a<=0&&(clearInterval(n),e.smsSeconds=" 获取验证码 ",e.smsEnable=!0)}),1e3);e.$notify({title:"模拟发送",message:t.msg,duration:0})}}))},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},refreshCode:function(){this.loginForm.imageKey=Math.random().toString(36).substr(2),this.codeUrl="/sys/auth/captcha/image?key="+this.loginForm.imageKey},oauth2Button:function(e,t,a){this.loginForm.socialType=e,Object(l["a"])(t,e,a,540)},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(){e.loading=!1}))}))},afterQRScan:function(e){var t=this;"x-admin-oauth-code"===e.key&&(this.loginForm.socialCode=e.newValue,this.loginForm.loginType="social",this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then((function(){t.$router.push({path:t.redirect||"/"}),t.loading=!1})).catch((function(){t.loading=!1})))}}},c=s,d=(a("2017"),a("8eba"),a("c701")),u=Object(d["a"])(c,n,r,!1,null,"2724869f",null);t["default"]=u.exports},a346:function(e,t,a){},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},aca4:function(e,t,a){},c2a2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{"margin-top":"5px"}},[a("el-input",{attrs:{size:"small",clearable:"",placeholder:"输入关键字过滤部门"},model:{value:e.dept.filterText,callback:function(t){e.$set(e.dept,"filterText",t)},expression:"dept.filterText"}}),a("el-tree",{ref:"dept",staticStyle:{"margin-top":"20px"},attrs:{"expand-on-click-node":!1,"highlight-current":"",data:e.dept.data,props:{children:"children",label:"name"},"default-expand-all":"","filter-node-method":e.deptFilter},on:{"node-click":e.deptNodeClick}})],1)]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0,model:e.search,size:"small"}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:""},model:{value:e.search.username,callback:function(t){e.$set(e.search,"username",t)},expression:"search.username"}})],1),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",clearable:""},model:{value:e.search.phone,callback:function(t){e.$set(e.search,"phone",t)},expression:"search.phone"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"用户状态",clearable:""},model:{value:e.search.enabled,callback:function(t){e.$set(e.search,"enabled",t)},expression:"search.enabled"}},[a("el-option",{attrs:{label:"启用",value:!0}}),a("el-option",{attrs:{label:"停用",value:!1}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.tablePage}},[e._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh"}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"tools-container"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["sys:user:add"],expression:"['sys:user:add']"}],attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.tableCreate}},[e._v("新增")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["sys:user:update"],expression:"['sys:user:update']"}],attrs:{type:"info",size:"mini",icon:"el-icon-edit",disabled:1!==e.table.selection.length},on:{click:function(t){return e.tableEdit(e.table.selection[0])}}},[e._v("编辑")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["sys:user:del"],expression:"['sys:user:del']"}],attrs:{type:"danger",size:"mini",icon:"el-icon-delete",disabled:0===e.table.selection.length},on:{click:function(t){return e.tableDelete(e.table.selection)}}},[e._v("删除")])],1),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{size:"medium",border:"",data:e.table.data},on:{"selection-change":function(t){return e.table.selection=t}}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"username","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用户昵称",align:"center",prop:"nickname","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"部门",align:"center",prop:"deptName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机号码",align:"center",prop:"phone","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.tableEnabledChange(t.row)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"285"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["sys:user:update"],expression:"['sys:user:update']"}],attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.tableEdit(t.row)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["sys:user:del"],expression:"['sys:user:del']"}],attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete([t.row.id])}}},[e._v("删除")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["sys:user:resetPass"],expression:"['sys:user:resetPass']"}],attrs:{type:"text",size:"mini",icon:"el-icon-refresh"}},[e._v("重置")])]}}])})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.table.current,"page-size":e.table.size,total:e.table.total,layout:"total, prev, pager, next"},on:{"update:currentPage":function(t){return e.$set(e.table,"current",t)},"update:current-page":function(t){return e.$set(e.table,"current",t)},"current-change":function(t){return e.tablePage()}}})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,size:"small","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.data.nickname,callback:function(t){e.$set(e.form.data,"nickname",t)},expression:"form.data.nickname"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.dept.data,normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},placeholder:"请选择归属部门"},model:{value:e.form.data.deptId,callback:function(t){e.$set(e.form.data,"deptId",t)},expression:"form.data.deptId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.data.phone,callback:function(t){e.$set(e.form.data,"phone",t)},expression:"form.data.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.data.email,callback:function(t){e.$set(e.form.data,"email",t)},expression:"form.data.email"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.data.username,callback:function(t){e.$set(e.form.data,"username",t)},expression:"form.data.username"}})],1)],1),a("el-col",{attrs:{span:12}},[void 0==e.form.data.id?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.data.sex,callback:function(t){e.$set(e.form.data,"sex",t)},expression:"form.data.sex"}},e._l(e.dict.sexOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.data.enabled,callback:function(t){e.$set(e.form.data,"enabled",t)},expression:"form.data.enabled"}},e._l(e.dict.enabledOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.data.postId,callback:function(t){e.$set(e.form.data,"postId",t)},expression:"form.data.postId"}},e._l(e.dict.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{placeholder:"请选择",multiple:""},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.data.roles,callback:function(t){e.$set(e.form.data,"roles",t)},expression:"form.data.roles"}},e._l(e.dict.roleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.data.remark,callback:function(t){e.$set(e.form.data,"remark",t)},expression:"form.data.remark"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.tableSubmit}},[e._v("确认")])],1)],1)],1)],1)],1)],1)},r=[],o=(a("b4fb"),a("dbb3"),a("ecb4"),a("053b"),a("e35a"),a("9cf3"),a("b775"));function l(e){return Object(o["a"])({url:"/sys/user/page",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/sys/user",method:"delete",params:{ids:e}})}function s(e){return Object(o["a"])({url:"/sys/user",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/sys/user",method:"put",data:e})}function d(e,t){var a={id:e,enabled:t};return Object(o["a"])({url:"/sys/user",method:"put",data:a})}var u=a("0187"),f=a("7392"),m=a("7d66"),p=a.n(m),b=(a("5166"),{id:void 0,role:"",description:""}),h={components:{Treeselect:p.a},data:function(){return{search:{username:void 0,phone:void 0,enabled:void 0,deptId:void 0},table:{data:[],current:1,size:10,total:0,loading:!1,selection:[]},form:{data:Object.assign({},b),rules:{},dialog:!1},dept:{filterText:"",data:[]},dict:{enabledOptions:[{value:!0,label:"启用"},{value:!1,label:"停用"}],sexOptions:[{value:!0,label:"男"},{value:!1,label:"女"}],roleOptions:[]}}},watch:{"dept.filterText":function(e,t){this.$refs.dept.filter(e),(void 0===e||""===e||t&&t.length>e.length)&&(this.search.deptId=void 0)}},mounted:function(){this.deptGetData(),this.tablePage()},methods:{deptGetData:function(){var e=this;Object(f["c"])().then((function(t){e.dept.data=t.data,e.dept.data.unshift({id:void 0,name:"所有部门"})}))},deptNodeClick:function(e){this.search.deptId=e.id,this.tablePage()},deptFilter:function(e,t){return!e||-1!==t.name.indexOf(e)},tableCreate:function(){this.form.dialog=!0,this.form.data=Object.assign({},b)},tableDelete:function(e){var t=this;this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i(e).then((function(e){t.tablePage()}))}))},tableEdit:function(e){var t=this;this.form.data=Object.assign({},e),this.form.dialog=!0,Object(u["c"])({size:-1}).then((function(e){t.dict.roleOptions=e.data.records}))},tablePage:function(){var e=this;this.table.loading=!0;var t={current:this.table.current,size:this.table.size,username:this.search.username?this.search.username:void 0,phone:this.search.phone?this.search.phone:void 0,enabled:this.search.enabled,deptId:this.search.deptId};l(t).then((function(t){e.table.loading=!1,e.table.data=t.data.records,e.table.total=t.data.total}))},tableSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0===e.form.data.id?s(e.form.data).then((function(t){e.form.dialog=!1,e.tablePage(),e.$refs["form"].resetFields()})):c(e.form.data).then((function(t){e.form.dialog=!1,e.tablePage()})))}))},tableEnabledChange:function(e){var t=this,a=e.enabled?"启用":"停用";this.$confirm("确认要 ".concat(a," ").concat(e.username," 用户吗?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.id,e.enabled)})).then((function(){t.$message({message:a+"成功",type:"success"})})).catch((function(){e.enabled=!e.enabled}))}}},g=h,v=(a("8a3f"),a("c701")),y=Object(v["a"])(g,n,r,!1,null,"6e3964e6",null);t["default"]=y.exports},cdfb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("div",{staticClass:"filter-container"},[a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.tableCreate}},[e._v("新增")])],1),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{border:"",data:e.table.data}},[a("el-table-column",{attrs:{label:"名称",align:"center","header-align":"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"角色",align:"center","header-align":"center",prop:"role","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"描述",align:"center","header-align":"center",prop:"description","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"285"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.tableEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.table.current,"page-size":e.table.size,total:e.table.total,layout:"total, prev, pager, next"},on:{"update:currentPage":function(t){return e.$set(e.table,"current",t)},"update:current-page":function(t){return e.$set(e.table,"current",t)},"current-change":function(t){return e.tableGetPage()}}})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"500px"},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.form.data.name,callback:function(t){e.$set(e.form.data,"name",t)},expression:"form.data.name"}})],1),a("el-form-item",{attrs:{label:"标识符",prop:"role"}},[a("el-input",{model:{value:e.form.data.role,callback:function(t){e.$set(e.form.data,"role",t)},expression:"form.data.role"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{model:{value:e.form.data.description,callback:function(t){e.$set(e.form.data,"description",t)},expression:"form.data.description"}})],1),a("el-form-item",{attrs:{label:"数据权限",prop:"scopeType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.data.scopeType,callback:function(t){e.$set(e.form.data,"scopeType",t)},expression:"form.data.scopeType"}},e._l(e.dict.scopeType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"CUSTOMIZE"===e.form.data.scopeType?a("el-form-item",{attrs:{label:"自定义部门",prop:"scope"}},[e.dept.checkAll?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){var a=arguments.length,n=Array(a);while(a--)n[a]=arguments[a];return e.treeButtonCheckAll.apply(void 0,[e.dept,e.$refs.deptTree].concat(n))}}},[e._v(" 取消全选")]):a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){var a=arguments.length,n=Array(a);while(a--)n[a]=arguments[a];return e.treeButtonCheckAll.apply(void 0,[e.dept,e.$refs.deptTree].concat(n))}}},[e._v("选择全部")]),a("el-tree",{ref:"deptTree",attrs:{data:e.dept.data,"default-checked-keys":e.form.data.scope,"show-checkbox":"","node-key":"id",props:{children:"children",label:"name"},"element-loading-text":"拼命加载中","check-strictly":!0}})],1):e._e(),a("el-form-item",{attrs:{label:"权限",prop:"desc"}},[e.menu.checkAll?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){var a=arguments.length,n=Array(a);while(a--)n[a]=arguments[a];return e.treeButtonCheckAll.apply(void 0,[e.menu,e.$refs.menuTree].concat(n))}}},[e._v(" 取消全选")]):a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){var a=arguments.length,n=Array(a);while(a--)n[a]=arguments[a];return e.treeButtonCheckAll.apply(void 0,[e.menu,e.$refs.menuTree].concat(n))}}},[e._v("选择全部")]),a("el-tree",{ref:"menuTree",attrs:{data:e.menu.data,"default-checked-keys":e.form.data.menus,"show-checkbox":"","node-key":"id",props:{children:"children",label:"title"},"element-loading-text":"拼命加载中","check-strictly":!0},on:{"check-change":function(t){var a=arguments.length,n=Array(a);while(a--)n[a]=arguments[a];return e.authroityCheckChange.apply(void 0,[e.$refs.menuTree].concat(n))}}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.tableSubmit}},[e._v("确认")])],1)],1)],1)],1)},r=[],o=(a("b4fb"),a("fe59"),a("08ba"),a("4c09")),l=a("0187"),i=a("5b64"),s=a("7392"),c=a("05ed"),d={id:0,role:"",description:""},u={name:"Role",props:{},data:function(){return{table:{data:[],current:1,size:10,total:0,loading:!1},form:{data:Object.assign({},d),rules:{},dialog:!1},menu:{checkAll:!1,data:[]},dept:{checkAll:!1,data:[]},dict:{scopeType:[]}}},mounted:function(){var e=this;this.tableGetPage(),Object(c["i"])({type:"sys_data_scope"}).then((function(t){e.dict.scopeType=t.data}))},methods:{tableCreate:function(){this.form.dialog=!0,this.form.data=Object.assign({},d)},tableDelete:function(e){var t=this;this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])({id:e.id}).then((function(e){t.tableGetPage()}))}))},tableEdit:function(e){this.form.dialog=!0,this.form.data=Object.assign({},e),this.menu.checkAll=!1,this.dept.checkAll=!1},tableGetPage:function(){var e=this;this.table.loading=!0;var t={current:this.table.current,size:this.table.size};Object(l["c"])(t).then((function(t){e.table.loading=!1,e.table.data=t.data.records,e.table.total=t.data.total})),Object(s["c"])().then((function(t){e.dept.data=t.data})),Object(i["e"])().then((function(t){e.menu.data=t.data}))},tableSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&("CUSTOMIZE"===e.form.data.scopeType?e.form.data.scope=[].concat(Object(o["a"])(e.$refs.deptTree.getCheckedKeys()),Object(o["a"])(e.$refs.deptTree.getHalfCheckedKeys())):e.form.data.scope=[],e.form.data.menus=[].concat(Object(o["a"])(e.$refs.menuTree.getCheckedKeys()),Object(o["a"])(e.$refs.menuTree.getHalfCheckedKeys())),void 0===e.form.data.id?Object(l["a"])(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage(),e.$refs["form"].resetFields()})):Object(l["d"])(e.form.data).then((function(t){e.form.dialog=!1,e.tableGetPage()})))}))},treeButtonCheckAll:function(e,t){if(e.checkAll=!e.checkAll,e.checkAll){var a=[];this.treeDataCheckAll(e.data,a),t.setCheckedNodes(a)}else t.setCheckedNodes([])},treeDataCheckAll:function(e,t){var a=this;e.forEach((function(e){t.push(e),e.children&&a.treeDataCheckAll(e.children,t)}))},authroityCheckChange:function(e,t,a){a?e.setChecked(t.parentId,!0,!1):null!=t.children&&t.children.forEach((function(t){e.setChecked(t.id,!1,!1)}))}}},f=u,m=(a("60e6"),a("c701")),p=Object(m["a"])(f,n,r,!1,null,"3071e800",null);t["default"]=p.exports},cf0a:function(e,t,a){},cf67:function(e,t,a){},e250:function(e,t,a){},e2eb:function(e,t,a){},e476:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("div",{staticClass:"filter-container"},[a("el-button",{attrs:{type:"text",icon:"el-icon-refresh"},on:{click:e.tableGetPage}},[e._v("刷新")])],1),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",data:e.table.data}},[a("el-table-column",{attrs:{label:"操作模块",align:"center","header-align":"center",prop:"title"}}),a("el-table-column",{attrs:{label:"请求方法",align:"center","header-align":"center",prop:"method","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"请求方式",align:"center","header-align":"center",prop:"requestMethod","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作类别",align:"center","header-align":"center",prop:"operatorType","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作人员",align:"center","header-align":"center",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"部门",align:"center","header-align":"center",prop:"deptName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"URL",align:"center","header-align":"center",prop:"url","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"IP",align:"center","header-align":"center",prop:"ip","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"请求参数",align:"center","header-align":"center",prop:"param","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"返回参数",align:"center","header-align":"center",prop:"result","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作状态",align:"center","header-align":"center",prop:"status","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"错误消息",align:"center","header-align":"center",prop:"error","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作时间",align:"center","header-align":"center",prop:"time","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.tableDelete(t.row)}}})]}}])})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.table.current,"page-size":e.table.size,total:e.table.total,layout:"total, prev, pager, next"},on:{"update:currentPage":function(t){return e.$set(e.table,"current",t)},"update:current-page":function(t){return e.$set(e.table,"current",t)},"current-change":function(t){return e.tableGetPage()}}})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.form.dialog,title:void 0===e.form.data.id?"新增":"编辑",width:"500px"},on:{"update:visible":function(t){return e.$set(e.form,"dialog",t)}}},[a("el-form",{ref:"form",attrs:{model:e.form.data,rules:e.form.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"dictName"}},[a("el-input",{model:{value:e.form.data.dictName,callback:function(t){e.$set(e.form.data,"dictName",t)},expression:"form.data.dictName"}})],1),a("el-form-item",{attrs:{label:"标识符",prop:"dictType"}},[a("el-input",{model:{value:e.form.data.dictType,callback:function(t){e.$set(e.form.data,"dictType",t)},expression:"form.data.dictType"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{model:{value:e.form.data.remark,callback:function(t){e.$set(e.form.data,"remark",t)},expression:"form.data.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.form.dialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{loading:e.table.loading,type:"primary"},on:{click:e.tableSubmit}},[e._v("确认")])],1)],1)],1)],1)},r=[],o=a("b775");function l(e){return Object(o["a"])({url:"/sys/log/page",method:"get",params:e})}var i={dictId:-1,dictName:null,dictType:null,status:"0",createBy:"admin",createTime:"2018-03-16T11:33:00",updateBy:"ry",updateTime:"2018-03-16T11:33:00",remark:null},s={name:"Dict",props:{},data:function(){return{table:{data:[],current:1,size:10,total:0,loading:!1},form:{data:Object.assign({},i),rules:{},dialog:!1},item:{dialog:!1,type:-1}}},mounted:function(){this.tableGetPage()},methods:{tableCreate:function(){this.form.dialog=!0,this.form.data=Object.assign({},i)},tableDelete:function(e){this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){}))},tableData:function(e){this.item.type=e.dictType,this.item.dialog=!0},tableEdit:function(e){this.form.dialog=!0,this.form.data=Object.assign({},e),this.authority.checkAll=!1,this.dept.checkAll=!1},tableGetPage:function(){var e=this;this.table.loading=!0;var t={current:this.table.current,size:this.table.size};l(t).then((function(t){e.table.loading=!1,e.table.data=t.data.records,e.table.total=t.data.total}))},tableSubmit:function(){this.$refs["form"].validate((function(e){e&&console.log(e)}))}}},c=s,d=(a("5504"),a("c701")),u=Object(d["a"])(c,n,r,!1,null,"37309ae0",null);t["default"]=u.exports},e6dd:function(e,t,a){},ecac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),a("div",[a("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("userAvatar",{attrs:{user:e.user}})],1),a("el-row",{staticClass:"row-height"},[a("el-col",{attrs:{span:12}},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称")],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[e._v(" "+e._s(e.user.username)+" ")])],1),a("el-row",{staticClass:"row-height"},[a("el-col",{attrs:{span:12}},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户昵称")],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[e._v(" "+e._s(e.user.nickname)+" ")])],1),a("el-row",{staticClass:"row-height"},[a("el-col",{attrs:{span:12}},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码")],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[e._v(" "+e._s(e.user.phone)+" ")])],1),a("el-row",{staticClass:"row-height"},[a("el-col",{attrs:{span:12}},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("所属部门")],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[e._v(" "+e._s(e.deptName)+" ")])],1),a("el-row",{staticClass:"row-height"},[a("el-col",{attrs:{span:12}},[a("svg-icon",{attrs:{"icon-class":"role"}}),e._v("所属角色")],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},e._l(e.roles,(function(t){return a("el-tag",{key:t.id,attrs:{size:"mini"}},[e._v(e._s(t.name))])})),1)],1),a("el-divider",[e._v("第三方账号")]),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{"show-header":!1,size:"mini",data:e.socials}},[a("el-table-column",{attrs:{align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.icon?a("img",{staticStyle:{height:"15px","margin-right":"5px"},attrs:{src:t.row.icon}}):e._e(),a("span",{staticStyle:{"font-size":"16px"}},[e._v(e._s(t.row.socialName))])]}}])}),a("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.socialAvatar?a("img",{staticStyle:{height:"15px","margin-right":"5px"},attrs:{src:t.row.socialAvatar}}):e._e(),a("span",{staticStyle:{"font-size":"16px"}},[e._v(e._s(t.row.socialNickname))])]}}])}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.id?a("el-button",{staticStyle:{color:"#FF6666"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.unbind(t.row.id)}}},[e._v("解绑")]):a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.bind(t.row.socialType)}}},[e._v("绑定")])]}}])})],1)],1)])],1),a("el-col",{attrs:{span:14,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},r=[],o=a("88c9"),l=a("2dde"),i=a("3823"),s=a("3e10"),c=a("7ded"),d={name:"Profile",components:{userAvatar:o["default"],userInfo:l["default"],resetPwd:i["default"]},data:function(){return{socials:[],activeTab:"userinfo",user:{},deptName:"",roles:[]}},destroyed:function(){window.removeEventListener("storage",this.afterQRScan)},created:function(){this.getUser(),window.addEventListener("storage",this.afterQRScan)},methods:{getUser:function(){var e=this;Object(c["f"])().then((function(t){e.user=t.data.info,e.deptName=t.data.dept,e.roles=t.data.roles,e.socials=t.data.socials}))},bind:function(e){this.thirdpart=e,this.socialRedirect=window.location.origin+window.location.pathname+"auth-redirect.html",Object(c["b"])({redirect_uri:this.socialRedirect,type:e}).then((function(t){0===t.code&&Object(s["a"])(t.data,e,800,540)}))},unbind:function(e){var t=this;this.$confirm("此操作将解除当前第三方账号绑定, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["h"])(e).then((function(e){t.getUser()}))}))},afterQRScan:function(e){var t=this;if("x-admin-oauth-code"===e.key){var a={type:this.thirdpart,code:e.newValue,redirect_uri:this.socialRedirect};Object(c["a"])(a).then((function(e){0===e.code&&t.getUser()}))}}}},u=d,f=(a("f526"),a("c701")),m=Object(f["a"])(u,n,r,!1,null,"0ce834f7",null);t["default"]=m.exports},ed55:function(e,t,a){},f526:function(e,t,a){"use strict";a("485f")},f605:function(e,t,a){},fa12:function(e,t,a){}}]);